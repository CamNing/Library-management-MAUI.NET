<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="book.Pages.LoginPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Shell.NavBarIsVisible="False"
             Title="ÄÄƒng nháº­p">

    <Grid>
        <BoxView>
            <BoxView.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#6C63FF" Offset="0.0" />
                    <GradientStop Color="#8B5CF6" Offset="1.0" />
                </LinearGradientBrush>
            </BoxView.Background>
        </BoxView>

        <Border BackgroundColor="White"
                StrokeShape="RoundRectangle 30,30,0,0"
                Margin="0,150,0,0"
                VerticalOptions="Fill"
                StrokeThickness="0">
            <ScrollView>
                <VerticalStackLayout Spacing="20" Padding="30,40,30,30">

                    <VerticalStackLayout Spacing="5" Margin="0,0,0,20">
                        <Label Text="ChÃ o má»«ng trá»Ÿ láº¡i!" 
                               FontSize="28" 
                               FontAttributes="Bold"
                               TextColor="#1F2937"/>
                        <Label x:Name="TitleLabel"
                               Text="ÄÄƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c" 
                               FontSize="16" 
                               TextColor="#6B7280"/>
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="15">

                        <Border Stroke="#E5E7EB" StrokeThickness="1" StrokeShape="RoundRectangle 12" BackgroundColor="#F9FAFB" Padding="15,0">
                            <Grid ColumnDefinitions="30, *">
                                <Label Text="ðŸ‘¤" VerticalOptions="Center"/>
                                <Entry x:Name="UsernameEntry" 
                                       Grid.Column="1"
                                       Placeholder="TÃªn Ä‘Äƒng nháº­p" 
                                       TextColor="#1F2937"
                                       PlaceholderColor="#9CA3AF"
                                       BackgroundColor="Transparent"
                                       TextChanged="OnFieldChanged"/>
                            </Grid>
                        </Border>

                        <Border Stroke="#E5E7EB" StrokeThickness="1" StrokeShape="RoundRectangle 12" BackgroundColor="#F9FAFB" Padding="15,0">
                            <Grid ColumnDefinitions="30, *">
                                <Label Text="ðŸ”’" VerticalOptions="Center"/>
                                <Entry x:Name="PasswordEntry" 
                                       Grid.Column="1"
                                       Placeholder="Máº­t kháº©u" 
                                       IsPassword="True"
                                       TextColor="#1F2937"
                                       PlaceholderColor="#9CA3AF"
                                       BackgroundColor="Transparent"
                                       TextChanged="OnFieldChanged"/>
                            </Grid>
                        </Border>

                        <VerticalStackLayout Spacing="15" IsVisible="{Binding Source={x:Reference EmailEntry}, Path=IsVisible}">
                            <Border Stroke="#E5E7EB" StrokeThickness="1" StrokeShape="RoundRectangle 12" BackgroundColor="#F9FAFB" Padding="15,0" IsVisible="False" x:Name="EmailBorder">
                                <Entry x:Name="EmailEntry" Placeholder="Email" Keyboard="Email" BackgroundColor="Transparent" TextChanged="OnFieldChanged" IsVisible="False"/>
                            </Border>
                            <Border Stroke="#E5E7EB" StrokeThickness="1" StrokeShape="RoundRectangle 12" BackgroundColor="#F9FAFB" Padding="15,0" IsVisible="False" x:Name="FullNameBorder">
                                <Entry x:Name="FullNameEntry" Placeholder="Há» vÃ  tÃªn" BackgroundColor="Transparent" IsVisible="False"/>
                            </Border>
                            <Border Stroke="#E5E7EB" StrokeThickness="1" StrokeShape="RoundRectangle 12" BackgroundColor="#F9FAFB" Padding="15,0" IsVisible="False" x:Name="PhoneBorder">
                                <Entry x:Name="PhoneEntry" Placeholder="Sá»‘ Ä‘iá»‡n thoáº¡i" Keyboard="Telephone" BackgroundColor="Transparent" IsVisible="False"/>
                            </Border>
                            <Border Stroke="#E5E7EB" StrokeThickness="1" StrokeShape="RoundRectangle 12" BackgroundColor="#F9FAFB" Padding="15,0" IsVisible="False" x:Name="AddressBorder">
                                <Entry x:Name="AddressEntry" Placeholder="Äá»‹a chá»‰" BackgroundColor="Transparent" IsVisible="False"/>
                            </Border>
                        </VerticalStackLayout>

                        <Label x:Name="ErrorMessage" 
                               TextColor="#EF4444" 
                               FontSize="13"
                               HorizontalOptions="Center"
                               IsVisible="False"/>

                        <Button x:Name="ActionButton" 
                                Text="ÄÄƒng nháº­p" 
                                Clicked="OnActionClicked"
                                IsEnabled="False"
                                BackgroundColor="#6C63FF"
                                Margin="0,10,0,0"
                                HeightRequest="55"/>

                        <ActivityIndicator x:Name="LoadingIndicator" 
                                          IsRunning="False" 
                                          IsVisible="False"
                                          Color="#6C63FF"/>

                        <Button x:Name="ToggleButton"
                                Text="ChÆ°a cÃ³ tÃ i khoáº£n? hÃ£y liÃªn há»‡ cho Admin"
                                
                                BackgroundColor="Transparent"
                                TextColor="#6C63FF"
                                FontSize="14"
                                FontAttributes="Bold"/>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </ScrollView>
        </Border>

        <Border WidthRequest="100" HeightRequest="100" 
                StrokeShape="RoundRectangle 50"
                BackgroundColor="White"
                HorizontalOptions="Center"
                VerticalOptions="Start"
                Margin="0,100,0,0"
                StrokeThickness="0">
            <Border.Shadow>
                <Shadow Brush="Black" Offset="0,10" Radius="20" Opacity="0.1"/>
            </Border.Shadow>
            <Label Text="ðŸ“š" FontSize="50" HorizontalOptions="Center" VerticalOptions="Center"/>
        </Border>
    </Grid>
</ContentPage>